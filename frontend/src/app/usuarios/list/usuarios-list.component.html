<div class="usuarios-container">
  <h2>Gesti√≥n de Usuarios</h2>

  <!-- üîπ Controles superiores -->
  <div class="top-bar">
    <!-- Bot√≥n agregar -->
    <button class="btn-agregar" (click)="agregarUsuario()">‚ûï Agregar Usuario</button>

    <!-- Barra de b√∫squeda -->
    <input
      type="text"
      [(ngModel)]="filtro"
      placeholder="üîç Buscar por nombre o correo..."
      class="search-input"
    />
  </div>

  <!-- Indicadores de carga o error -->
  <div *ngIf="loading" class="mensaje info">Cargando usuarios...</div>
  <div *ngIf="error" class="mensaje error">{{ error }}</div>

  <!-- Tabla de usuarios -->
  <div *ngIf="!loading && usuariosFiltrados.length > 0" class="tabla-responsive">
    <table class="usuarios-tabla">
      <thead>
        <tr>
          <th>DNI</th>
          <th>Nombres</th>
          <th>Apellidos</th>
          <th>Correo</th>
          <th>ID Cargo</th>
          <th>Usuario</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let usuario of usuariosFiltrados">
          <td>{{ usuario.dni }}</td>
          <td>{{ usuario.nombres }}</td>
          <td>{{ usuario.apellidos }}</td>
          <td>{{ usuario.correo }}</td>
          <td>{{ usuario.idCargo }}</td>
          <td>{{ usuario.usuario }}</td>
          <td>
            <button class="btn-ver" (click)="verDetalle(usuario.id)">üëÅ Ver</button>
            <button class="btn-editar" (click)="editarUsuario(usuario.id)">‚úèÔ∏è Editar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!loading && usuariosFiltrados.length === 0" class="mensaje vacio">
    No se encontraron usuarios.
  </div>
</div>
