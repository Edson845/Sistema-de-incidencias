<div class="sidebar" [class.closed]="isClosed">
  <div class="close-btn" (click)="toggleSidebar()">
    {{ isClosed ? 'â˜°' : 'âœ–' }}
  </div>

  <div class="logo-section" *ngIf="!isClosed">
    <img src="assets/img/logo_01.png" alt="Logo" class="logo">
    <h2>Sistema de Gestion de Incidentes</h2>
  </div>

  <div class="user-info" *ngIf="!isClosed">
    <p>Bienvenido, <strong>{{ authService.obtenerDatosUsuario?.nombre || 'Invitado' }}</strong></p>
    <select class="rol-select" disabled>
      <option>{{ authService.obtenerDatosUsuario?.rol || 'Sin Rol' }}</option>
    </select>
  </div>

  <nav class="menu">

  <!-- Mostrar solo si el usuario es ADMIN -->
  <ng-container *ngIf="authService.tieneRol('admin')">
    <a routerLink="/dashboard" routerLinkActive="active" class="menu-item">
      <i class="fas fa-home"></i>
      <span *ngIf="!isClosed">Dashboard</span>
    </a>

    <a routerLink="/tickets" routerLinkActive="active" class="menu-item">
      <i class="fas fa-ticket-alt"></i>
      <span *ngIf="!isClosed">Tickets</span>
    </a>

    <a routerLink="/usuarios" routerLinkActive="active" class="menu-item">
      <i class="fas fa-users"></i>
      <span *ngIf="!isClosed">Usuarios</span>
    </a>
  </ng-container>

  <!-- ðŸ”¹ Si el usuario NO es admin, se pueden mostrar otros accesos -->
  <ng-container *ngIf="authService.tieneRol('tecnico')">
    <a routerLink="/dashboard" routerLinkActive="active" class="menu-item">
      <i class="fas fa-home"></i>
      <span *ngIf="!isClosed">Dashboard</span>
    </a>
    <a routerLink="/tickets" routerLinkActive="active" class="menu-item">
      <i class="fas fa-toolbox"></i>
      <span *ngIf="!isClosed">Tickets Asignados</span>
    </a>
    <a routerLink="/tickets" routerLinkActive="active" class="menu-item">
      <i class="fas fa-ticket-alt"></i>
      <span *ngIf="!isClosed">Tickets</span>
    </a>
  </ng-container>

  <ng-container *ngIf="authService.tieneRol('usuario')">
    
    <a routerLink="/dashboard" routerLinkActive="active" class="menu-item">
      <i class="fas fa-home"></i>
      <span *ngIf="!isClosed">Dashboard</span>
    </a>
    
    <a routerLink="/tickets" routerLinkActive="active" class="menu-item">
      <i class="fas fa-ticket-alt"></i>
      <span *ngIf="!isClosed">Tickets</span>
    </a>
  </ng-container>

</nav>

</div>
