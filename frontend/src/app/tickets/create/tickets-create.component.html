<div class="container">
  <main class="main-content">
    <div class="form-container">
      <h3 class="form-title">Registrando nuevo ticket</h3>

      <form [formGroup]="ticketForm" (ngSubmit)="registrarTicket()" class="ticket-form">

        <!-- T√çTULO -->
        <label for="titulo">Registre el t√≠tulo del incidente <span>*</span></label>
        <input
          type="text"
          id="titulo"
          formControlName="titulo"
          placeholder="Ingrese el t√≠tulo del incidente"
        />

        <!-- DESCRIPCI√ìN -->
        <label for="descripcion">Ingrese una breve descripci√≥n del problema <span>*</span></label>
        <textarea
          id="descripcion"
          formControlName="descripcion"
          maxlength="300"
          placeholder="M√°ximo 300 caracteres"
        ></textarea>

        <!-- CATEGOR√çA -->
        <label for="idCategoria">Seleccione la categor√≠a del problema <span>*</span></label>
        <select id="idCategoria" formControlName="idCategoria" class="form-select">
          <option value="">Seleccione una categor√≠a</option>
          <option *ngFor="let cat of categorias" [value]="cat.idCategoria">
            {{ cat.nombreCategoria }}
          </option>
        </select>

        <!-- üì∏ Campo de archivo -->
        <label for="adjunto">Adjunte una imagen o PDF (opcional)</label>
        <input type="file" id="adjunto" accept=".jpg,.jpeg,.png,.pdf" (change)="onFileSelected($event)" />

        <!-- üëÅÔ∏è Vista previa si es imagen -->
        <div class="preview-container" *ngIf="imagenPreview">
          <p>Vista previa:</p>
          <img [src]="imagenPreview" alt="Vista previa" class="preview-img" />
        </div>

        <!-- BOTONES -->
        <div class="button-group">
          <button type="button" class="btn-cancelar" (click)="ticketForm.reset()">Cancelar</button>
          <button type="submit" class="btn-registrar">Registrar Ticket</button>
        </div>
      </form>
    </div>
  </main>
</div>

