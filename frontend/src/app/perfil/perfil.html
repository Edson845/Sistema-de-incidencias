<div class="perfil-container">

  <h2>Mi Perfil</h2>

  <img 
    [src]="perfil.avatarUrl || 'assets/preder.png'" 
    class="avatar">

  <input type="file" (change)="onFileSelected($event)" *ngIf="editMode">

  <div>
    <label>DNI:</label>
    <span>{{ perfil.dni }}</span>
  </div>

  <div>
    <label>Usuario:</label>
    <input *ngIf="editMode" [(ngModel)]="perfil.usuario">
    <span *ngIf="!editMode">{{ perfil.usuario }}</span>
  </div>

  <div>
    <label>Nombres:</label>
    <span>{{ perfil.nombres }} {{ perfil.apellidos }}</span>
  </div>

  <div>
    <label>Correo:</label>
    <input *ngIf="editMode" [(ngModel)]="perfil.correo">
    <span *ngIf="!editMode">{{ perfil.correo }}</span>
  </div>

  <div>
    <label>Celular:</label>
    <input *ngIf="editMode" [(ngModel)]="perfil.celular">
    <span *ngIf="!editMode">{{ perfil.celular }}</span>
  </div>

  <button *ngIf="!editMode" (click)="activarEdicion()">Editar</button>
  <button *ngIf="!editMode" (click)="abrirModalContrasenia()">Cambiar contraseña</button>

  <button *ngIf="editMode" (click)="actualizarPerfil()">Guardar</button>
  <button *ngIf="editMode" (click)="cancelarEdicion()">Cancelar</button>

</div>
<!-- Modal Cambiar Contraseña -->
<div class="modal-backdrop" *ngIf="modalContrasenia">
  <div class="modal">
    <h3>Cambiar Contraseña</h3>

    <div class="form-group">
      <label>Contraseña actual:</label>
      <input type="password" [(ngModel)]="formContrasenia.actual">
    </div>

    <div class="form-group">
      <label>Nueva contraseña:</label>
      <input type="password" [(ngModel)]="formContrasenia.nueva">
    </div>

    <div class="form-group">
      <label>Confirmar nueva contraseña:</label>
      <input type="password" [(ngModel)]="formContrasenia.confirmar">
    </div>

    <div class="modal-buttons">
      <button (click)="cambiarContrasenia()">Cambiar</button>
      <button (click)="cerrarModalContrasenia()">Cancelar</button>
    </div>
  </div>
</div>
